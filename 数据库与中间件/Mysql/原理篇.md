# 索引

## 分类

**按物理分类**

- 聚簇索引
- 二级索引

**按字段类型分类**

- 主键索引

- 非主键索引

  - 普通索引

  - 唯一索引（针对值唯一的字段）
  - 前缀索引（针对字符串类型字段）

**按字段数量分类**

- 单列索引
- 联合索引

**聚簇索引VS二级索引**

|          | 叶子节点内容             | I/O情况                                                      |
| -------- | ------------------------ | ------------------------------------------------------------ |
| 聚簇索引 | 整表数据                 |                                                              |
| 二级索引 | 只存放索引列和主键列数据 | **回表**：拿到主键后需要回表到聚簇索引上查找最终数据                     **索引覆盖**：当查询利刚好是索引列和主键列的子集，不需要回表 |

**二级索引VS联合索引**

**索引下推**

二级索引经常性需要回表，恰当对需要查询的列建立联合索引，能避免回表，同时减少表检索I/O（叶子节点小自读读的快，回表需要在聚簇索引的叶子节点检索，那里可是保存了整表）



### 联合索引的最左匹配原则

<font color=red>对于联合索引（a,b)</font>

- a属性列全局有序
- b属性列在a相等的区间内局部有序

**联合索引失效**

`a>1,b>2`：a全局有序，当对于a>1的所有数据，b是无序的，因为为了检索答案需要从满足a>1的第一个数据开始遍历

`a>=1,b>2`：a全局有序，a>1的b无序，但是a=1的b局部有序，因此为了检索答案可以从a=1集合里满足b>2的第一个数据开始遍历





# 事务



# 锁



# 日志



# 内存

